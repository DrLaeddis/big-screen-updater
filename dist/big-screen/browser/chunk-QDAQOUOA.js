import{a as ee}from"./chunk-TF2CSF5F.js";import{a as B}from"./chunk-7W76JT5L.js";import{a as W}from"./chunk-6HXTQR5D.js";import{a as te}from"./chunk-2LVOHUXW.js";import{c as K}from"./chunk-QERJSP3R.js";import{b as Z}from"./chunk-JWDGFI55.js";import{i as Y,j as Q}from"./chunk-PQNYVRMP.js";import{a as X}from"./chunk-K3YAW35H.js";import{Ba as H,Ca as h,Ha as m,Ia as p,Ja as T,N as z,Na as g,Ra as V,S as R,Sa as G,T as U,Ta as J,Va as _,W as j,Xa as q,Za as $,a as d,b as f,d as t,oa as k,ra as c,sa as C}from"./chunk-WH7RZBSH.js";function le(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function y(a,e=!1){let n=le(),r=`_${n}`;return Object.defineProperty(window,r,{value:s=>(e&&Reflect.deleteProperty(window,r),a?.(s)),writable:!1,configurable:!0}),n}function S(n){return t(this,arguments,function*(a,e={}){return new Promise((r,s)=>{let o=y(b=>{r(b),Reflect.deleteProperty(window,`_${l}`)},!0),l=y(b=>{s(b),Reflect.deleteProperty(window,`_${o}`)},!0);window.__TAURI_IPC__(d({cmd:a,callback:o,error:l},e))})})}function i(a){return t(this,null,function*(){return S("tauri",a)})}function ae(a,e){return t(this,null,function*(){return i({__tauriModule:"Event",message:{cmd:"unlisten",event:a,eventId:e}})})}function D(a,e,n){return t(this,null,function*(){yield i({__tauriModule:"Event",message:{cmd:"emit",event:a,windowLabel:e,payload:n}})})}function A(a,e,n){return t(this,null,function*(){return i({__tauriModule:"Event",message:{cmd:"listen",event:a,windowLabel:e,handler:y(n)}}).then(r=>()=>t(this,null,function*(){return ae(a,r)}))})}function x(a,e,n){return t(this,null,function*(){return A(a,e,r=>{n(r),ae(a,r.id).catch(()=>{})})})}var u=function(a){return a.WINDOW_RESIZED="tauri://resize",a.WINDOW_MOVED="tauri://move",a.WINDOW_CLOSE_REQUESTED="tauri://close-requested",a.WINDOW_CREATED="tauri://window-created",a.WINDOW_DESTROYED="tauri://destroyed",a.WINDOW_FOCUS="tauri://focus",a.WINDOW_BLUR="tauri://blur",a.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",a.WINDOW_THEME_CHANGED="tauri://theme-changed",a.WINDOW_FILE_DROP="tauri://file-drop",a.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",a.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",a.MENU="tauri://menu",a.CHECK_UPDATE="tauri://update",a.UPDATE_AVAILABLE="tauri://update-available",a.INSTALL_UPDATE="tauri://update-install",a.STATUS_UPDATE="tauri://update-status",a.DOWNLOAD_PROGRESS="tauri://update-download-progress",a}(u||{});function w(){return navigator.appVersion.includes("Win")}var lt=w()?"\\":"/",ut=w()?";":":";var L=class{constructor(e,n){this.type="Logical",this.width=e,this.height=n}},M=class{constructor(e,n){this.type="Physical",this.width=e,this.height=n}toLogical(e){return new L(this.width/e,this.height/e)}},E=class{constructor(e,n){this.type="Logical",this.x=e,this.y=n}},v=class{constructor(e,n){this.type="Physical",this.x=e,this.y=n}toLogical(e){return new E(this.x/e,this.y/e)}},oe=function(a){return a[a.Critical=1]="Critical",a[a.Informational=2]="Informational",a}(oe||{});function ie(){return window.__TAURI_METADATA__.__windows.map(a=>new P(a.label,{skip:!0}))}var ne=["tauri://created","tauri://error"],O=class{constructor(e){this.label=e,this.listeners=Object.create(null)}listen(e,n){return t(this,null,function*(){return this._handleTauriEvent(e,n)?Promise.resolve(()=>{let r=this.listeners[e];r.splice(r.indexOf(n),1)}):A(e,this.label,n)})}once(e,n){return t(this,null,function*(){return this._handleTauriEvent(e,n)?Promise.resolve(()=>{let r=this.listeners[e];r.splice(r.indexOf(n),1)}):x(e,this.label,n)})}emit(e,n){return t(this,null,function*(){if(ne.includes(e)){for(let r of this.listeners[e]||[])r({event:e,id:-1,windowLabel:this.label,payload:n});return Promise.resolve()}return D(e,this.label,n)})}_handleTauriEvent(e,n){return ne.includes(e)?(e in this.listeners?this.listeners[e].push(n):this.listeners[e]=[n],!0):!1}},I=class extends O{scaleFactor(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})})}innerPosition(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:e,y:n})=>new v(e,n))})}outerPosition(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:e,y:n})=>new v(e,n))})}innerSize(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:e,height:n})=>new M(e,n))})}outerSize(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:e,height:n})=>new M(e,n))})}isFullscreen(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})})}isMinimized(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimized"}}}})})}isMaximized(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})})}isFocused(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFocused"}}}})})}isDecorated(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})})}isResizable(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})})}isMaximizable(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximizable"}}}})})}isMinimizable(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimizable"}}}})})}isClosable(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isClosable"}}}})})}isVisible(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})})}title(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"title"}}}})})}theme(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})})}center(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})})}requestUserAttention(e){return t(this,null,function*(){let n=null;return e&&(e===oe.Critical?n={type:"Critical"}:n={type:"Informational"}),i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:n}}}})})}setResizable(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:e}}}})})}setMaximizable(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaximizable",payload:e}}}})})}setMinimizable(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinimizable",payload:e}}}})})}setClosable(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setClosable",payload:e}}}})})}setTitle(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:e}}}})})}maximize(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})})}unmaximize(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})})}toggleMaximize(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})})}minimize(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})})}unminimize(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})})}show(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})})}hide(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})})}close(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})})}setDecorations(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:e}}}})})}setAlwaysOnTop(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:e}}}})})}setContentProtected(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setContentProtected",payload:e}}}})})}setSize(e){return t(this,null,function*(){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:e.type,data:{width:e.width,height:e.height}}}}}})})}setMinSize(e){return t(this,null,function*(){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})})}setMaxSize(e){return t(this,null,function*(){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})})}setPosition(e){return t(this,null,function*(){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})})}setFullscreen(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:e}}}})})}setFocus(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})})}setIcon(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof e=="string"?e:Array.from(e)}}}}})})}setSkipTaskbar(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:e}}}})})}setCursorGrab(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:e}}}})})}setCursorVisible(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:e}}}})})}setCursorIcon(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:e}}}})})}setCursorPosition(e){return t(this,null,function*(){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})})}setIgnoreCursorEvents(e){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:e}}}})})}startDragging(){return t(this,null,function*(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})})}onResized(e){return t(this,null,function*(){return this.listen(u.WINDOW_RESIZED,n=>{n.payload=Te(n.payload),e(n)})})}onMoved(e){return t(this,null,function*(){return this.listen(u.WINDOW_MOVED,n=>{n.payload=Pe(n.payload),e(n)})})}onCloseRequested(e){return t(this,null,function*(){return this.listen(u.WINDOW_CLOSE_REQUESTED,n=>{let r=new F(n);Promise.resolve(e(r)).then(()=>{if(!r.isPreventDefault())return this.close()})})})}onFocusChanged(e){return t(this,null,function*(){let n=yield this.listen(u.WINDOW_FOCUS,s=>{e(f(d({},s),{payload:!0}))}),r=yield this.listen(u.WINDOW_BLUR,s=>{e(f(d({},s),{payload:!1}))});return()=>{n(),r()}})}onScaleChanged(e){return t(this,null,function*(){return this.listen(u.WINDOW_SCALE_FACTOR_CHANGED,e)})}onMenuClicked(e){return t(this,null,function*(){return this.listen(u.MENU,e)})}onFileDropEvent(e){return t(this,null,function*(){let n=yield this.listen(u.WINDOW_FILE_DROP,o=>{e(f(d({},o),{payload:{type:"drop",paths:o.payload}}))}),r=yield this.listen(u.WINDOW_FILE_DROP_HOVER,o=>{e(f(d({},o),{payload:{type:"hover",paths:o.payload}}))}),s=yield this.listen(u.WINDOW_FILE_DROP_CANCELLED,o=>{e(f(d({},o),{payload:{type:"cancel"}}))});return()=>{n(),r(),s()}})}onThemeChanged(e){return t(this,null,function*(){return this.listen(u.WINDOW_THEME_CHANGED,e)})}},F=class{constructor(e){this._preventDefault=!1,this.event=e.event,this.windowLabel=e.windowLabel,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}},P=class a extends I{constructor(e,n={}){super(e),n?.skip||i({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:d({label:e},n)}}}).then(()=>t(this,null,function*(){return this.emit("tauri://created")})).catch(r=>t(this,null,function*(){return this.emit("tauri://error",r)}))}static getByLabel(e){return ie().some(n=>n.label===e)?new a(e,{skip:!0}):null}static getFocusedWindow(){return t(this,null,function*(){for(let e of ie())if(yield e.isFocused())return e;return null})}},re;"__TAURI_METADATA__"in window?re=new P(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),re=new P("main",{skip:!0}));function Pe(a){return new v(a.x,a.y)}function Te(a){return new M(a.width,a.height)}var kt=w()?`\r
`:`
`;var N=S;var se=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="http://localhost:3000/mobile-api"}getSocketTopics(){return this.http.get(`${this.apiUrl}/sockettopics`)}};e.\u0275fac=function(s){return new(s||e)(R(Z))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();function We(a,e){a&1&&T(0,"app-loading")}var Gt=(()=>{let e=class e{constructor(r,s){this.websocketService=r,this.socketTopics=s,this.router=U(K),this.logo="logo-w-name.svg",this.gear="gear.svg",this.loading=!1,this.doorClosed=!1,this.jwtToken="",this.user_id="",this.isAnimation=!1,this.tokens="",this.doorAnimation=!0}ngOnInit(){this.getJwtToken(),this.getUserID(),this.loadSocketTopics(),this.websocketService.onMessage("settings").subscribe(s=>{this.doorClosed=!0,this.router.navigate(["/settings"])});let r=localStorage.getItem("Token")||"";this.tokens=r}loadSocketTopics(){this.socketTopics.getSocketTopics().subscribe(r=>{localStorage.setItem("socketTopicList",JSON.stringify(r)),console.log(r)},r=>{console.error("What error",r)})}getJwtToken(){return t(this,null,function*(){try{this.jwtToken=yield N("get_jwt_token"),localStorage.setItem("Token",this.jwtToken)}catch(r){console.error("Error cannot found JWT Token",r)}})}getUserID(){return t(this,null,function*(){try{this.user_id=yield N("get_userid"),console.log("cek user id from tauri",this.user_id),localStorage.setItem("UserID",this.user_id)}catch(r){console.error("Error cannot found User ID",r)}})}updateAuthStatus(){let r=localStorage.getItem("socketTopicList");if(r){let o=JSON.parse(r).map(l=>l.topic==="sessionmode"?f(d({},l),{auth_status:l.auth_status===null?!0:l.auth_status}):l);localStorage.setItem("socketTopicList",JSON.stringify(o))}}sessionMode(){let r=localStorage.getItem("Token")||"";if(!r){console.log("token not found");return}this.updateAuthStatus(),this.websocketService.sendMessage("sessionmode","",r)}workRestPlay(){if(!this.tokens){console.log("token not found");return}this.isAnimation||(this.isAnimation=!0,this.doorClosed=!0,this.doorComponent.transitionEnded.subscribe(r=>{r==="right"&&(this.websocketService.sendMessage("gotoWorkrestPlay","",this.tokens),this.isAnimation=!1)}))}selfDevelopment(){let r=localStorage.getItem("Token")||"";if(!r){console.log("token not found");return}if(this.isAnimation)return;this.isAnimation=!0,this.doorClosed=!0;let s={id:"defaultPreset",wrp_name:"defaultPreset",preset_name:"defaultPreset",door_status:!0,pmf_status:!1,reading_light_intensity:75,led_intensity:50,led_color:1,nir_intensity:30,fir_intensity:40,created_date:"2024-11-05T08:22:26.710Z",updated_date:"2024-11-05T08:22:26.710Z"};this.doorComponent.transitionEnded.subscribe(o=>{o==="right"&&(setTimeout(()=>{this.websocketService.sendMessage("gotoSelfDev",s,r),localStorage.setItem("presetData",JSON.stringify(s))},500),this.isAnimation=!1)}),localStorage.setItem("doorAnimation",JSON.stringify(this.doorAnimation))}trainingMode(){alert("Coming soon")}onDoorTransitionEnd(r){console.log("Transition ended:",r),this.isAnimation=!1}};e.\u0275fac=function(s){return new(s||e)(C(X),C(se))},e.\u0275cmp=j({type:e,selectors:[["app-task7"]],viewQuery:function(s,o){if(s&1&&V(W,5),s&2){let l;G(l=J())&&(o.doorComponent=l.first)}},standalone:!0,features:[$],decls:23,vars:26,consts:[[1,"w-screen","h-screen","bg-transparent","absolute","pointer-events-none"],[3,"transitionEnded","isClose"],[3,"backgroundImage"],[1,"w-[85%]","h-full","flex","flex-col","items-center","pt-[20vh]","gap-28"],["alt","Regenesis Logo",1,"w-[80%]",3,"src"],[1,"text-primary","tracking-widest","text-5xl"],[1,"text-secondary/80"],[1,"w-full","flex","flex-col","justify-center","items-center","gap-12"],[1,"w-full",3,"click","buttonName","textSize","paddingY","borderSize","disabled"],[1,"w-[20vw]","h-[20vw]","flex","p-8","border-8","border-secondary","rounded-full"],["alt","Setting Logo",3,"src"],[4,"ngIf"]],template:function(s,o){s&1&&(m(0,"div",0)(1,"app-door",1),g("transitionEnded",function(b){return o.onDoorTransitionEnd(b)}),p()(),m(2,"app-layout",2)(3,"div",3),T(4,"img",4),m(5,"h1",5)(6,"span",6),_(7,"R"),p(),_(8,"ESONANT "),m(9,"span",6),_(10,"E"),p(),_(11,"NERGETICS "),p(),m(12,"h1")(13,"span",6),_(14),p()(),m(15,"div",7)(16,"app-button",8),g("click",function(){return o.doorClosed?null:o.sessionMode()}),p(),m(17,"app-button",8),g("click",function(){return o.doorClosed?null:o.workRestPlay()}),p(),m(18,"app-button",8),g("click",function(){return o.doorClosed?null:o.selfDevelopment()}),p(),m(19,"app-button",8),g("click",function(){return o.doorClosed?null:o.trainingMode()}),p()(),m(20,"button",9),T(21,"img",10),p()()(),H(22,We,1,0,"app-loading",11)),s&2&&(c(),h("isClose",o.doorClosed),c(),h("backgroundImage","background-image"),c(2),h("src",o.logo,k),c(10),q("Testing ",o.jwtToken,""),c(2),h("buttonName","Session Mode")("textSize","text-5xl")("paddingY","py-16")("borderSize","border-8")("disabled",o.doorClosed),c(),h("buttonName","Work Rest Play")("textSize","text-5xl")("paddingY","py-16")("borderSize","border-8")("disabled",o.doorClosed),c(),h("buttonName","Self Development")("textSize","text-5xl")("paddingY","py-16")("borderSize","border-8")("disabled",o.doorClosed),c(),h("buttonName","Training Mode")("textSize","text-5xl")("paddingY","py-16")("borderSize","border-8")("disabled",o.doorClosed),c(2),h("src",o.gear,k),c(),h("ngIf",o.loading))},dependencies:[B,ee,te,Q,Y,W]});let a=e;return a})();export{Gt as Task7Page};
